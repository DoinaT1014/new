if (self.CavalryLogger) { CavalryLogger.start_js(["dxUDc"]); }

__d('EgoLineClamp.react',['DOMContainer.react','LineClamp.react','Link.react','React'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l,m){'use strict';i.constructor.call(this,l,m);}k.prototype.render=function(){'use strict';var l=this.props.seeMoreLink&&this.props.seeMoreText?c('React').createElement(c('Link.react'),{href:this.props.seeMoreLink,rel:this.props.theaterMode?'theater':''},this.props.seeMoreText):'\u2026';return c('React').createElement(c('LineClamp.react'),{lines:this.props.lines,disableNative:true,lineHeight:this.props.lineHeight,customEllipsisDisableGradient:true,customEllipsis:l},c('React').createElement(c('DOMContainer.react'),null,this.props.content));};k.propTypes={content:j.object.isRequired,lines:j.number.isRequired,lineHeight:j.number.isRequired,seeMoreLink:j.string,seeMoreText:j.string};f.exports=k;}),null);
__d('FeedEgoCarousel.react',['ix','csx','cx','xuiglyph','AsyncRequest','CSS','DOM','DOMContainer.react','Image.react','InlineBlock.react','LitestandEllipsis','React','ReactDOM','Style','XFeedEgoImpressionLoggingController','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','XUICloseButton.react','emptyFunction','requestAnimationFrame'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p,q){'use strict';m.constructor.call(this,p,q);this.$FeedEgoCarousel6=function(){this.setState({hidden:true});}.bind(this);}o.prototype.componentWillMount=function(){'use strict';this.loggedItems=new Array(this.props.items.length);this.setState({items:this.props.items,hidden:false});};o.prototype.componentDidMount=function(){'use strict';this.$FeedEgoCarousel1();var p=this.state.items[this.props.initialIndex];this.$FeedEgoCarousel2(p,this.props.initialIndex);this.$FeedEgoCarousel3(this.props.initialIndex);this.$FeedEgoCarousel4();};o.prototype.componentDidUpdate=function(){'use strict';this.$FeedEgoCarousel4();this.$FeedEgoCarousel1();};o.prototype.componentWillUnmount=function(){'use strict';this.$FeedEgoCarousel5();};o.prototype.render=function(){'use strict';if(this.refs.carousel)this.$FeedEgoCarousel5();if(this.state.hidden)return null;var p=new (c('XUICarouselAnimator'))({type:'horizontal',centered:this.props.centered,firstAndLastAligned:this.state.items.length>1}),q=null;if(this.state.items.length>1)q=[c('React').createElement(c('XUICarouselArrow.react'),{disabled:false},c('React').createElement('div',{className:"_4idl"},c('React').createElement('div',{className:"_4idm"}),c('React').createElement('div',{className:"_4idn"},c('React').createElement(c('Image.react'),{src:h("88862")})))),c('React').createElement(c('XUICarouselArrow.react'),{disabled:false},c('React').createElement('div',{className:"_4idl"},c('React').createElement('div',{className:"_4idm"}),c('React').createElement('div',{className:"_4idn"},c('React').createElement(c('Image.react'),{src:h("88874")}))))];var r=null;if(this.props.title)r=c('React').createElement(c('InlineBlock.react'),{className:"_1t3m",alignv:'middle'},c('React').createElement('div',{className:"fwb _d_q"},this.props.title));var s=this.props.showXout?c('React').createElement(c('XUICloseButton.react'),{className:"_qnz",size:'medium',onClick:this.$FeedEgoCarousel6}):null;return c('React').createElement('div',{className:"_1t3l"},r,s,c('React').createElement('div',{className:"_1mv9"},c('React').createElement(c('XUICarousel.react'),{ref:'carousel',animator:p,arrows:q,resizeViewport:'disabled',initialAutoplay:false,initialIndex:this.props.initialIndex,viewportWidth:this.props.viewportWidth,viewportHeight:this.props.viewportHeight,wrapAround:this.props.wrapAround,onItemClick:function t(){return c('emptyFunction');}},this.$FeedEgoCarousel7(this.state.items))));};o.prototype.$FeedEgoCarousel1=function(){'use strict';if(this.refs.carousel)this.arbiterToken=this.refs.carousel.subscribe(['animationEnd'],function(p,q){if(p==='animationEnd'){var r=this.state.items[q];this.$FeedEgoCarousel2(r,q);this.$FeedEgoCarousel3(q);}}.bind(this));};o.prototype.$FeedEgoCarousel5=function(){'use strict';if(this.refs.carousel&&this.arbiterToken)this.refs.carousel.unsubscribe(this.arbiterToken);};o.prototype.$FeedEgoCarousel7=function(p){'use strict';var q=[];for(var r=0;r<p.length;r++){var s={};if(this.props.leftRightMargin)if(r==0&&r!=p.length-1){s={marginLeft:this.props.leftRightMargin};}else if(r==p.length-1&&r!=0)s={marginRight:this.props.leftRightMargin};q.push(c('React').createElement(c('XUICarouselItem.react'),{key:r,style:s},c('React').createElement(c('DOMContainer.react'),null,p[r])));}return q;};o.prototype.$FeedEgoCarousel4=function(){'use strict';var p=c('ReactDOM').findDOMNode(this.refs.carousel);c('requestAnimationFrame')(function(){if(p){var q=c('DOM').scry(p,"._559r");if(q.length){var r=c('Style').getFloat(q[0],'lineHeight'),s;for(var t=0;t<q.length;t++){s=c('DOM').scry(q[t],'.nameText')[0];c('LitestandEllipsis').add(s,r,q[t]);}}}});};o.prototype.$FeedEgoCarousel2=function(p,q){'use strict';p=c('DOM').scry(p,'[data-ft]')[0];var r=JSON.parse(p.getAttribute('data-ft'));if(!r||!r.ego_id||this.loggedItems[r.ego_id])return;var s=c('XFeedEgoImpressionLoggingController').getURIBuilder().setInt('ego_id',r.ego_id).setInt('qid',r.qid).setInt('mf_story_key',r.mf_story_key).getURI();new (c('AsyncRequest'))().setURI(s).send();this.loggedItems[r.ego_id]=true;};o.prototype.$FeedEgoCarousel3=function(p){'use strict';var q=c('ReactDOM').findDOMNode(this.refs.carousel);if(q instanceof Element)if(p===0||p===this.state.items.length-1){if(!c('CSS').matchesSelector(q,"._4ji6"))c('CSS').addClass(q,"_4ji6");}else if(c('CSS').matchesSelector(q,"._4ji6"))c('CSS').removeClass(q,"_4ji6");};o.propTypes={initialIndex:n.number,viewportWidth:n.number.isRequired,viewportHeight:n.number.isRequired,centered:n.bool.isRequired,wrapAround:n.bool.isRequired,showXout:n.bool.isRequired,items:n.arrayOf(n.object),title:n.string,leftRightMargin:n.string};f.exports=o;}),null);